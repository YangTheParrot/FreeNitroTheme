function c(e){window.enmity.plugins.registerPlugin(e)}function m(e){return window.enmity.patcher.create(e)}var o="ClientThemes",l="1.0.1",p="Use Nitro Themes for free",f=[{name:"mafu",id:"519760564755365888"},{name:"SerStars",id:"861631850681729045"}],h="#000001",g={name:o,version:l,description:p,authors:f,color:h};function s(...e){return window.enmity.modules.getByProps(...e)}window.enmity.modules.common;function a(e,t,n){window.enmity.settings.set(e,t,n)}const u=s("updateBackgroundGradientPreset"),i=s("canUseClientThemes",{defaultExport:!1}),{ExperimentStore:S}=s("useAndTrackExposureToUserExperiment"),d=s("setShouldSyncAppearanceSettings"),r=m("ClientThemes"),v={...g,onStart(){d.setShouldSyncAppearanceSettings(!1),r.before(d,"setShouldSyncAppearanceSettings",(e,t,n)=>{t[0]=!1}),r.instead("canUseClientThemes",i,()=>!0),r.after(S,"getUserExperimentDescriptor",(e,[t],n)=>{if(t==="2023-02_client_themes_mobile"&&(n==null?void 0:n.bucket))return{type:"user",revision:1,population:0,bucket:1,override:!0}}),Object.isFrozen(i.default)&&(i.default={...i.default}),r.instead(i.default,"canUseClientThemes",(e,t,n)=>!0),r.after(u,"updateMobilePendingThemeIndex",(e,t,n)=>{0<=t[0]&&t[0]<=2&&a(o,"theme",-1)}),r.after(u,"updateBackgroundGradientPreset",(e,t,n)=>{a(o,"theme",t[0])})},onStop(){r.unpatchAll()}};c(v);
